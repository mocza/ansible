# PVE1: sanoid.conf -- snapshot-only for golden-source data
# Purpose: create and rotate snapshots on PVE1 for the data/* datasets

# Global/defaults
global {
    # e-mail for alerts (optional)
    mailto = "root@localhost"

    # dry-run=false will allow operations; set true to test
    dry_run = true

    # don't try to touch other pools
    # (fine to leave default)
}

# Per-dataset configurations
# Keep only the data/documents and data/photos datasets under control
data/documents {
    # recursive not required since this is the leaf dataset
    recursive = 0

    # Enable automatic snapshots (sanoid uses a cron or systemd to run 'sanoid --cron')
    autosnap = yes

    # Retention counts (standard)
    retention {
        frequent = 6
        hourly   = 24
        daily    = 30
        monthly  = 12
        yearly   = 1
    }

    # Optional: tags/naming (sanoid default naming is fine)
    # snapshot_prefix = "sanoid-"
}

data/photos {
    recursive = 0
    autosnap = yes

    retention {
        frequent = 6
        hourly   = 24
        daily    = 30
        monthly  = 12
        yearly   = 1
    }
}


